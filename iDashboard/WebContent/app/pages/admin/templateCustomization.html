<link rel="stylesheet" href="lib/angular-toastr.css">

<style>
/**
 * The dnd-list should always have a min-height,
 * otherwise you can't drop to it once it's empty
 */
.simpleDemo ul[dnd-list] {
	min-height: 42px;
	padding-left: 0px;
}

.panel-footer {
	padding: 10px 15px;
	background-color: #f5f5f5;
	border-top: 1px solid #ddd;
	border-bottom-right-radius: 3px;
	border-bottom-left-radius: 3px;
}

.pagination {
	display: inline-block;
	padding-left: 0;
	margin: 20px 0;
	border-radius: 4px;
}

.rzslider {
	position: relative;
	display: inline-block;
	width: 100%;
	margin: 28px 0 14px 0;
	vertical-align: middle;
	-webkit-user-select: none;
	-moz-user-select: none;
	-ms-user-select: none;
	user-select: none;
	margin-left: 100px;
}

.rzslider .rz-bar-wrapper {
	left: 0;
	z-index: 1;
	width: 100%;
	height: 32px;
	padding-top: 16px;
	margin-top: -16px;
	box-sizing: border-box;
}

.rzslider span {
	position: absolute;
	display: inline-block;
}

.rzslider .rz-bar-wrapper.rz-right-out-selection .rz-bar {
	background: #03a688;
}

.rzslider .rz-bar-wrapper.rz-left-out-selection .rz-bar {
	background: #df002d;
}

.rzslider .rz-bar {
	left: 0;
	z-index: 1;
	width: 100%;
	height: 4px;
	background: #d8e0f3;
	border-radius: 2px;
}

.rzslider .rz-draggable {
	cursor: move;
}

.rzslider .rz-pointer {
	top: -14px;
	z-index: 3;
	width: 32px;
	height: 32px;
	cursor: pointer;
	background-color: #0db9f0;
	border-radius: 16px;
}

.rzslider .rz-bubble.rz-limit {
	color: #55637d;
}

.rzslider .rz-bubble {
	bottom: 16px;
	padding: 1px 3px;
	color: #ffffff;
	cursor: default;
}

.rzslider .rz-ticks {
	position: absolute;
	top: -3px;
	left: 0;
	z-index: 1;
	width: 100%;
	height: 0;
	margin: 0;
	list-style: none;
	box-sizing: border-box;
}

.rzslider.with-legend {
	margin-bottom: 40px;
}

.rzslider[disabled] {
	cursor: not-allowed;
}

.rzslider[disabled] .rz-pointer {
	cursor: not-allowed;
	background-color: #d8e0f3;
}

.rzslider[disabled] .rz-draggable {
	cursor: not-allowed;
}

.rzslider[disabled] .rz-selection {
	background: #8b91a2;
}

.rzslider[disabled] .rz-tick {
	cursor: not-allowed;
}

.rzslider[disabled] .rz-tick.rz-selected {
	background: #8b91a2;
}

.rzslider span {
	position: absolute;
	display: inline-block;
	white-space: nowrap;
}

.rzslider .rz-base {
	width: 100%;
	height: 100%;
	padding: 0;
}

.rzslider .rz-bar-wrapper.rz-transparent .rz-bar {
	background: transparent;
}

.rzslider .rz-selection {
	z-index: 2;
	background: #0db9f0;
	border-radius: 2px;
}

.rzslider .rz-restricted {
	z-index: 3;
	background: #ff0000;
	border-radius: 2px;
}

.rzslider .rz-pointer:after {
	position: absolute;
	top: 12px;
	left: 12px;
	width: 8px;
	height: 8px;
	background: #ffffff;
	border-radius: 4px;
	content: '';
}

.rzslider .rz-pointer:hover:after {
	background-color: #ffffff;
}

.rzslider .rz-pointer.rz-active {
	z-index: 4;
}

.rzslider .rz-pointer.rz-active:after {
	background-color: #451aff;
}

.rzslider .rz-ticks-values-under .rz-tick-value {
	top: auto;
	bottom: -32px;
}

.rzslider .rz-tick {
	position: absolute;
	top: 0;
	left: 0;
	width: 10px;
	height: 10px;
	margin-left: 11px;
	text-align: center;
	cursor: pointer;
	background: #d8e0f3;
	border-radius: 50%;
}

.rzslider .rz-tick.rz-selected {
	background: #0db9f0;
}

.rzslider .rz-tick-value {
	position: absolute;
	top: -30px;
	transform: translate(-50%, 0);
}

.rzslider .rz-tick-legend {
	position: absolute;
	top: 24px;
	max-width: 50px;
	white-space: normal;
	transform: translate(-50%, 0);
}

/**
 * The dndDraggingSource class will be applied to
 * the source element of a drag operation. It makes
 * sense to hide it to give the user the feeling
 * that he's actually moving it.
 */
.simpleDemo ul[dnd-list] .dndDraggingSource {
	display: none;
}

/**
 * An element with .dndPlaceholder class will be
 * added to the dnd-list while the user is dragging
 * over it.
 */
.simpleDemo ul[dnd-list] .dndPlaceholder {
	background-color: #ddd;
	display: block;
	min-height: 42px;
}

.simpleDemo ul[dnd-list] li {
	border: 1px solid #ddd;
	border-top-right-radius: 4px;
	border-top-left-radius: 4px;
	display: block;
	padding: 10px 15px;
	margin-bottom: -1px;
}

/**
 * Show selected elements in green
 */
.simpleDemo ul[dnd-list] li.selected {
	color: #3c763d;
}

#div1 {
	float: left;
	width: 120px;
	height: 120px;
	margin: 10px;
	padding: 10px;
}

#div2 {
	float: left;
	width: 120px;
	height: 120px;
	margin: 10px;
	padding: 10px;
	border: 1px solid white;
}

#div3 {
	float: left;
	width: 200px;
	height: 120px;
	margin: 10px;
	padding: 10px;
	border: 1px solid white;
}
</style>



<div class="widgets" ng-controller="AdminCtrl">
	<div class="row">
		<div ba-panel ba-panel-title="Create Template"
			ba-panel-class="with-scroll">
			<operationalba-wizard> <operationalba-wizard-step
				title="Template Details" form="vm.personalInfoForm" >
<form name="vm.personalInfoForm" novalidate>
			<div class="row" ng-init="" ;"style="display: inline-block"  
			ng-class="{'has-error': vm.personalInfoForm.templatedrop.$invalid && (vm.personalInfoForm.templatedrop.$dirty || vm.personalInfoForm.$submitted)}">
                                       
			<div  class="col-md-6">
				<div  class="col-md-2">
				<label >Template
					Name:</label></div>	<div  class="col-md-4"> <input type="text" class="form-control"
					style="outline: 0; background-color: rgba(87, 95, 118, 1); "
					id="templatedrop" ng-model="selectedTemplate" name="templatedrop"
					ng-blur="getvalues(organization,selectedTemplate)"
					maxlength="20"
					required>
					 <span class="help-block error-block basic-block" style="color: #ec4141;
    font-weight: bold;">Please fill the Template Name</span>
			
			</div>
			</div>
			</div>

			<div class="row" ng-init="getRollingPeriodData()" style="margin-top:21px;">
<div class="col-md-6">
<div class="col-md-2">

				<label >Rolling
					Period:</label> </div>
					<div class="col-md-4">

					<select class="form-control"
					style="outline: 0; background-color: rgba(87, 95, 118, 1); "
					name='rollingperioddrop' id="rollingperioddrop"
					
				  
					ng-model="selectedRollingPeriod"
					ng-options="rollingperioddrop for rollingperioddrop in rollingperioddrops"
					ng-change="getSelectedRollingPeriod(selectedRollingPeriod)"
					required>
					<option value="" ng-disabled="true">Select Rolling Period</option>

				</select>
</div>
			</div>
			</div>

			<div class="row">
				<label class="custom-checkbox"
					style="font-weight: bold; margin-top: 21px; margin-left: 21px;">Tools used by projects:</label>

<!-- <span class="col-lg-12" style="color: #F44;margin-left:2%; font-weight: bold;" ng-show="!toolSelected">*Please select atleast one release to proceed further</span> -->
									 
 

				<div class="checkbox" style="margin-left: 268px;"
				>
				
					<label class="custom-checkbox"> <input id="jira" name="jira" class="checkBtn"
						type="checkbox" ng-model="jiraMetric"
						ng-click="selectedJiraTool(jiraMetric);" ng-checked="false" > <span>JIRA</span>
					</label>
					
				</div>
				<div class="checkbox" style="margin-left: 268px;">
		
				
					<label class="custom-checkbox"> <input id="alm" name="alm" class="checkBtn"
						type="checkbox" ng-model="almMetric"
						ng-click="selectedAlmTool(almMetric);" ng-checked="false" > <span>ALM</span>
					</label>

				</div>

			</div>



</form>

			</operationalba-wizard-step> <operationalba-wizard-step title="Metric Selection" id="testApp"
				form="vm.personalInfoForm" ng-on-customtype="$ctrl.listener($event)">
				
			<div class="col-md-12"
				ng-init="generateTemplateModel();">

				<div class="simpleDemo row">

					<div class="col-md-6" ng-init="">


						<div class="panel panel-info panel-body">
							<div class="panel-heading " style="margin-bottom: inherit;">
								<h3 class="panel-title" style="font-weight: bold;">Industry
									Standard Metrics</h3>

							</div>
							<div ng-repeat="list in templatemodels" keep-scroll>


		<ul dnd-list  keep-scroll dnd-drop="onDrop(list, item, index)" id="available"class="wrapperrs" 
									ng-style="{'display':$index==0?'block':'none'}"
									>
									<li ng-repeat="item in list.Available"
										dnd-draggable="getSelectedItemsIncluding(list, item)"
										dnd-dragstart="onDragstart(list, event)"
										dnd-moved="onMoved(list)" dnd-dragend="list.dragging = false"
										dnd-selected="item.selected = item.selected"
										>
										{{item.metricName}}</li>
								</ul>
								

								<!-- <div ng-show="$index==0" class="pull-right">
									<table st-table="list.Available" st-safe-src="rowCollection">
										<tr>
											<td colspan="6" class="text-center">
												<div st-pagination="" st-items-by-page="smartTablePageSize"
													st-displayed-pages="5"></div>
											</td>
										</tr>
									</table>
								</div> -->
							</div>
						</div>
					</div>
					<div class="col-md-6" ng-init="">
						<div class="panel panel-info panel-body">
							<div class="panel-heading" style="margin-bottom: inherit;">
								<h3 class="panel-title" style="font-weight: bold;">Selected
									Metrics [ maximum metrics allowed : 8 ]</h3>

							</div>
							<div ng-repeat="list in templatemodels">
								<ul dnd-list dnd-drop="onDrop1(list, item, index,event)"
									id="selected" ng-style="{'display':$index==1?'block':'none'}"
									dnd-disable-if="list.Selected.length >= 8">
									<li ng-repeat="item in list.Selected"
								
										dnd-draggable="getSelectedItemsIncluding1(list, item)"
										dnd-dragstart="onDragstart(list, event)"
										dnd-moved="onMoved1(list)" dnd-dragend="list.dragging = false"
										dnd-selected="item.selected = item.selected"
										ng-class="{'selected': item.selected}" ng-hide=" item.selected">
										{{item.metricName}}</li>
									<br>


								</ul>

							</div>

						</div>

					</div>








				</div>
			</div>

			</operationalba-wizard-step> <operationalba-wizard-step title="Finish">
			<div ba-panel 
				ba-panel-class="with-scroll" class="col-md-12 " >
				<div>
				<div class="panel-heading clearfix"><h3 class="panel-title"style="font-weight: bold;
    margin-left: -14px;">About to create a new template:</h3></div>
					<div ng-init="selectedMetric()" style="margin-bottom: -47px">
						<table class="table">
							<thead>
								<tr class="sortable">

									<th style="width: 10%; font-weight:bold">Template Name</th>
									<th style="width: 10%; font-weight:bold">Rolling Period</th>
									<th style="width: 10%;font-weight:bold">Tools used by projects</th>
									<th style="width: 10%;font-weight:bold">Selected Metrics</th>

								</tr>

							</thead>
							
							<tbody>
									<td>{{selectTemplate}}</td>
									<td>{{selectedRollingPeriod}}</td>
									<td>{{valueOfTool}}</td>
									
							      <td>  
								
							<div> 
							<ul>
									<li ng-repeat="item in metricSelected">
										{{item.metricName}}</li>
									<br>


								</ul>
						
 </div>
 </td>
							</tbody>


						
							


						</table>

					</div>
				
					
				<div class="" style="float: right;">
					<button type="button" style="margin-left: -47%;padding-right: 22px;margin-right: 7px;"class="btn btn-success" ng-click="saveMetricDetails()">Save</button>
					<button type="button" style="margin-left: 2%;" class="btn btn-danger" ng-click="TemplateSavingCancel();$dismiss();">Cancel</button>
				</div>
				</div>
			</div>
	
			</operationalba-wizard-step> </operationalba-wizard>
		</div>
	</div>
</div>